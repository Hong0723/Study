# 관계 데이터 모델의 개념

**릴레이션의 개념**
- 행과 열로 구성된 테이블을 말함

  
  ![image](https://github.com/user-attachments/assets/0338e1b5-32a7-45dc-9916-daf1dd355465)

**관계(relationship)**

  릴레이션(테이블) 내의 관계와 릴레이션(테이블) 간의 관계가 있음

   - 릴레이션 내의 관계 : 릴레이션 안에 있는 데이터들의 집합으로 표현
   - 릴레이션 간의 관계 : 릴레이션을 식별

**릴레이션**
- 스키마와 인스턴스로 이루어짐

  ![image](https://github.com/user-attachments/assets/7e613552-6cad-40d1-990a-2bd1f00b7b04)

**릴레이션 스키마**
- 속성(attribute) : 릴레이션 스키마의 열
- 도메인(domain) : 속성이 가질 수 있는 값의 집합
- 차수(degree) :  속성의 개수

  ![image](https://github.com/user-attachments/assets/a01400ff-70bf-4262-aec6-b5767d54e3c6)

**릴레이션 인스턴스**
- 릴레이션 스키마에 실제로 저장된 데이터의 집합
- 투플(tuple) : 릴레이션의 행
- 카디날리티(cardinality) : 투플의 수

**릴레이션의 특징**
- 속성은 단일 값을 가짐
- 속성은 서로 다른 이름을 가짐
- 한 속성의 값은 모두 같은 도메인 값을 가짐
- 속성의 순서는 상관없음
- 릴레이션 내의 중복된 투플은 허용하지 않음
- 투플의 순서는 상관 없음

**키**
 - 무엇인가를 유일하게 식별한다는 의미
 - 관계 데이터베이스에서 키는 릴레이션에서 특정 투플을 식별할때 사용하는 속성 혹은 속성의 집합
 - 키가 되는 속성은 반드시 값이 달라서 투플들을 서로 구별할 수 있어야 함
 - 키는 릴레이션 간의 관계를 맺는 데도 사용됨

 **슈퍼키**
  - 투플을 유일하게 식별할 수 있는 하나의 속성 혹은 속성의 집합
  -> 투플 식별 가능한 속성을 포함한 모든 속성의 집합이 슈퍼키임
    ex) 고객번호와 주민번호가 투플 식별이 가능하다면
    ![image](https://github.com/user-attachments/assets/fc291e61-2ab5-4b17-bac0-bbaf95325bbd)

**후보키**
 - 투플을 유일하게 식별할 수 있는 속성의 최소 집합 -> 효율성 측면에서 중요함
 - 위를 참고해서 보면, 슈퍼키는 많지만, 후보키는 '주민번호', '고객번호'만 될 수 있음
  -> 투플 식별 가능한 속성이 결국 후보키라고 볼 수 도 있음

   ![image](https://github.com/user-attachments/assets/faa424a3-cc19-42d0-bf5c-066c0d942986)

  그림을 보면 고객번호는 1명의 거ㅗ객이 여러 권의 도서를 구입할 수 있으므로 후보키가 될 수 없고,
  도서번호가 2인 '축구 아는 여자'의 경우 두번의 주문 기록이 있어 투플을 유일하게 식별 할 수 없다
  -> but, 고객번호와 도서번호를 합해 키 값으로 하면, (고객번호, 도서번호)가 동일한 주문 기록이 없으므로 모든 투플을 유일하게 식별가능함.
  -->> 두 개 이상의 속성으로 이루어진 키를 **복합키**라고 함

**기본키**
  - 여러 후보키 중 하나를 선정하여 대표로 삼는 키
**기본 키 선정 시 고려사항**
 - 릴레이션 내 투플을 식별할 수 있는 고유한 값을 가져야함
 - NULL 값은 허용하지 않음
 - 키 값의 변동이 일어나지 않아야함
 - 최대한 적은 수의 속성을 가진것이여야 함
   ![image](https://github.com/user-attachments/assets/b7386cc6-2289-4b8f-ad53-058c1eccf7cd)
 - 릴레이션 스키마를 표현할 때 기본키는 다음과 같이 밑줄을 그어 표시함

**대리키, 인조키**
 - 기본키가 보안을 필요로 하거나, 여러 개의 속성으로 구성되어 복잡하거나, 마땅한 기본키가 없을 때는 일련번호 같은 가상의 속성을 만들어 기본키로 삼는 경우
   ![image](https://github.com/user-attachments/assets/cc71afa1-f5fe-411c-a620-76d8ba92e887)

 - 
   


   

